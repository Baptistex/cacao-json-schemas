{
  "$id": "variable.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Playbook Step",
  "description": "",
  "type": "object",
  "allOf": [
    {
      "properties": {
        "type": {
          "$ref": "#/$defs/variable-type-ov",
          "description": "The type of variable being used. The values for this property MUST come from the variable-type vocabulary."
        },
        "description": {
          "type": "string",
          "description": "An optional detailed description of this variable."
        },
        "value": {
          "type": ["string","null"],
          "description": "The value of the variable represented by a JSON string. The value MAY be populated with a string value (or number encoded as a string), an empty string \"\", or with the special JSON NULL value. NOTE: An empty string is NOT equivalent to a JSON NULL value. An empty string means the value is known to be empty. A value of NULL means the value is unknown or undefined."
        },
        "constant": {
          "type": "boolean",
          "description": "Is this variable immutable or mutable. If true, the variable is immutable and MUST NOT be changed. If false, the variable can be updated later on in the playbook. The default value is false. If this property is not present then then value is false."
        },
        "external": {
          "type": "boolean",
          "description": "This property only applies to playbook scoped variables. When set to false or omitted, the variable is defined within the playbook.When set to false or omitted, the variable is defined within the playbook."
        }
      }
    }
  ],
  "$defs": {
    "variable-type-ov": {
      "type": "string",
      "enum": [
        "string",
        "uuid",
        "integer",
        "long",
        "mac-addr",
        "ipv4-addr",
        "ipv6-addr",
        "uri",
        "sha256-hash",
        "hexstring",
        "dictionary"
      ]
    }
  },
  "required": ["type"]
}