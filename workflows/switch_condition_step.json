{
  "$id": "switch_condition_step.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Playbook Step",
  "description": "",
  "type": "object",
  "allOf": [
    {
      "$ref": "workflow_step_common.json"
    },
    {
      "properties": {
        "type": {
          "type": "string",
          "description": "The value of this property MUST be switch-condition.",
          "enum": [
            "switch-condition"
          ]
        },
        "switch": {
          "type": "string",
          "description": "A variable that is evaluated to determine which key in the match_props dictionary is matched against to execute the associated step."
        },
        "cases": {
          "description": "This property is a dictionary that defines one or more case values (as dictionary keys) and a list of sequential step IDs (as key values) to be processed when the case value is matched against the switch value.\n\n \n\nThe value for each entry in the dictionary MUST be a list of type identifier that uniquely identifies a set of sequential steps to be processed when that key/value is chosen. Each id in the list MUST use the object type of \"step\" (see section 9.8 for more information on identifiers).\n\n \n\nThis dictionary MAY have a \"default\" case value.",
          "minProperties": 1,
          "type": "object",
          "unevaluatedProperties": false,
          "patternProperties": {
            "^[a-zA-Z0-9_-]{0,250}": {
              "anyOf": [
                {
                  "type": "array",
                  "items": {
                    "$ref": "identifier.json"
                  },
                  "minItems": 1
                }
              ]
            }
          }
        }
      }
    }
  ],
  "required": [
    "type",
    "switch",
    "cases"
  ],
  "unevaluatedProperties": false
}
